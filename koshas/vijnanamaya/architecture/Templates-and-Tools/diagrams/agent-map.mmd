graph TB
    subgraph CoreAgents["Core Agent Framework"]
        PA[Pattern Analysis Agent]
        TA[Technical Architecture Agent]
        FA[Field Coherence Agent]
        HA[Hook Engineering Agent]
        CA[Content Architecture Agent]
    end

    subgraph SnippetSystem["Snippet Template System"]
        subgraph CoreSnippets["Core Framework Snippets"]
            CS1[System Architecture Templates]
            CS2[Pattern Recognition Matrices]
            CS3[Field Integration Protocols]
            CS4[Debug Documentation]
        end

        subgraph AgentSpecificSnippets["Agent-Specific Snippets"]
            AS1[Pattern Analysis Matrices]
            AS2[Technical Parallel Maps]
            AS3[Field Coherence Protocols]
            AS4[Hook Pattern Templates]
            AS5[Content Structure Templates]
        end

        subgraph ContextualSnippets["Contextual Enhancement"]
            CT1[Energy System Variables]
            CT2[Technical Metaphor Library]
            CT3[Pattern Recognition Keys]
            CT4[Implementation Protocols]
        end
    end

    subgraph VariableSystem["Variable Architecture"]
        V1[System State Variables]
        V2[Pattern Recognition Parameters]
        V3[Field Coherence Metrics]
        V4[Implementation Markers]
        V5[Debug Protocol States]
    end

    %% Core Agent Connections
    PA --> AS1
    PA --> CT3
    TA --> AS2
    TA --> CT2
    FA --> AS3
    FA --> CT1
    HA --> AS4
    CA --> AS5

    %% Core Snippet Integration
    CS1 --> PA
    CS1 --> TA
    CS2 --> PA
    CS2 --> FA
    CS3 --> FA
    CS3 --> TA
    CS4 --> HA
    CS4 --> CA

    %% Variable System Integration
    V1 --> CS1
    V2 --> CS2
    V3 --> CS3
    V4 --> CS4
    V5 --> AS1

    %% Contextual Enhancement Flow
    CT1 --> FA
    CT2 --> TA
    CT3 --> PA
    CT4 --> CA

    style CoreAgents fill:#1C2237,stroke:#00D8FF
    style SnippetSystem fill:#0A0A0A,stroke:#FFCC33
    style VariableSystem fill:#1C2237,stroke:#8B5CF6